# 建造者模式

## 1. 什么是建造者模式？

  网上关于这个有很多，官方一点的解释可以自己看看。我的理解是：把业务场景可能的步骤，拆开后用一种方式编制在一起。

换一个说法：拿修房子这个事来说，一定会有（但不限于）搭建房屋框架、填料、安水电、装修这些步骤吧？那么把这些固定步骤统一起来，统一之后的流程可以修任何房子哦。这个就是建造者模式。

## 2. 核心思想

   在我看来，每一种设计模式都有它的核心思想，吸收这种思想后可以灵活应用了。

   建筑者模式的核心思想我认为是：固定步骤+变化因子+步骤实现=建造者模式。

 
## 3. 这个设计模式有什么好处？可以干嘛？

   传统方式容易写出胶水代码为了避免胶水代码才使用设计模式把逻辑拆开。
   建造者模式和《流水线思想》、《中间件思想》、《逻辑链思想》都是为了把逻辑拆开。当我们的业务模型看起来是：有固定步骤、调用有一些顺序要求，就可以使用建造者模式

   胶水代码：只是把代码放在一起，逻辑能跑通就好了，但代码结构并不好看，甚至难以阅读。

## 4. 关于示例

   示例代码不完全是建造者模式！这个例子是我在网上一段代码的基础上修改过来的。为什么要这样做呢？

   原生的代码（很多讲设计模式的代码也是），只是用代码把模式具体实现出来让你看，并不一定能直接用起来。
就像课堂上讲继承、多态时的代码，工作中能直接用过来么？

   这个示例改良了一下，借鉴了.net core中的中间件思想与构建webhost的过程。
如果把抽象步骤这个东西再抽象一下，就成了中间件模式。


## 5.建造者模式的角色

建造者模式有4个角色：调度器、抽象建造者、具体建造者、产品。

调度器：具体生产产品时调度的代码。我的理解它不一定是某个类或某个方法，只要是写“具体建造过程”的代码，就可以认为是调度器。
抽象建造者：抽象固定步骤的类或接口，标志是定义了“Build”的方法。
具体建造者：实现抽象建造者的类或代码，体现步骤中的差异化（示例中同一个车门就有不同的牌子）。关键是构建时，他可以调配生产的步骤。比如示例中如果没有调用添加车门的方法，是不是可以在构建时明确用一个默认的？
产品：熟悉OOP的都能理解类和对象，这里的产品就是对象，实实在在可用的东西。如果生产出来是一个工具，也算哦。




